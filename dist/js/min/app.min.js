"use strict";function ajaxGet(e,t){var s=new XMLHttpRequest;s.open("GET",e),s.addEventListener("load",function(){s.status>=200&&s.status<400?t(s.responseText):console.error(s.status+" "+s.statusText+" "+e)}),s.addEventListener("error",function(){console.error("Erreur rÃ©seau avec l'URL "+e)}),s.send(null)}
"use strict";function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}$(function(){var a=function a(e,s,t,r,n){_classCallCheck(this,a),this.avatar=e,this.comment=s,this.words=t,this.admin=r,this.userName=n};$("#btn-url-github").on("click",function(e){e.preventDefault();var s=$("#url-github").val().split("https://github.com/")[1],t=[];ajaxGet("https://api.github.com/repos/"+s,function(e){var s=$.parseJSON(e),r=s.user.avatar_url,n=s.body,o=s.user.login,m=s.body.length;$(".search form").after("<h3>"+s.title+"</h3>"),$("#infos").append('<div class="wrap-user-comment" data-user='+o+' data-words="'+m+'"></div>'),$(".wrap-user-comment").append('<img class="avatar-github" src='+r+" />").append("<p>"+n+"</p>");var c=new a(r,n,m,!0,o);t.push(c)}),ajaxGet("https://api.github.com/repos/"+s+"/comments",function(e){var s=$.parseJSON(e),r=$(".wrap-user-comment").first().data("user");for(comment in s){var n=s[comment].user.avatar_url,o=s[comment].body,m=s[comment].body.length,c=s[comment].user.login,u="user"+comment;u=new a(n,o,m,c===r,c),t.push(u)}for(user in t)$("#infos").last().append('<div class="wrap-comment" data-user='+t[user].userName+" data-words="+t[user].words+"></div>"),$(".wrap-comment").last().append('<img class="avatar-github" src='+t[user].avatar+" />").append("<p>"+t[user].comment+"</p>"),!0===t[user].admin&&$(".wrap-comment").eq(user).addClass("wrap-user-comment");$("#infos .wrap-user-comment").first().remove(),$(".wrap-user-comment").removeClass("wrap-comment")}),console.log(t),$("#url-github").val("")})});