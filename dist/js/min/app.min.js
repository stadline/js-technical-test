"use strict";function ajaxGet(e,t){var s=new XMLHttpRequest;s.open("GET",e),s.addEventListener("load",function(){s.status>=200&&s.status<400?t(s.responseText):console.error(s.status+" "+s.statusText+" "+e)}),s.addEventListener("error",function(){console.error("Erreur rÃ©seau avec l'URL "+e)}),s.send(null)}
"use strict";function _classCallCheck(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}$(function(){var a=function a(t,e,r,s,n){_classCallCheck(this,a),this.avatar=t,this.comment=e,this.words=r,this.admin=s,this.userName=n};$("#btn-url-github").on("click",function(t){t.preventDefault();var e=$("#url-github").val().split("https://github.com/")[1],r=[];ajaxGet("https://api.github.com/repos/"+e,function(t){var e=$.parseJSON(t),s=e.user.avatar_url,n=e.body,o=e.user.login,m=e.body.length;$(".search form").after("<h3>"+e.title+"</h3>"),$("#infos").append('<div class="wrap-user-comment" data-user='+o+' data-words="'+m+'"></div>'),$(".wrap-user-comment").append('<img class="avatar-github" src='+s+" />").append("<p>"+n+"</p>");var u=new a(s,n,m,!0,o);r.push(u)}),ajaxGet("https://api.github.com/repos/"+e+"/comments",function(t){var e=$.parseJSON(t),s=$(".wrap-user-comment").first().data("user");for(comment in e){var n=e[comment].user.avatar_url,o=e[comment].body,m=e[comment].body.length,u=e[comment].user.login,c="user"+comment;c=new a(n,o,m,u===s,u),r.push(c)}for(user in r)$("#infos").last().append('<div class="wrap-comment" data-user='+r[user].userName+" data-words="+r[user].words+"></div>"),$(".wrap-comment").last().append('<img class="avatar-github" src='+r[user].avatar+" />").append("<p>"+r[user].comment+"</p>"),!0===r[user].admin&&$(".wrap-comment").eq(user).addClass("wrap-user-comment");$("#infos .wrap-user-comment").first().remove(),$(".wrap-user-comment").removeClass("wrap-comment");var i=[],p=[];for(tab in r){var l=r[tab].avatar,h=r[tab].userName;i.push(l),p.push(h)}console.log(i,p)}),$("#url-github").val("")})});